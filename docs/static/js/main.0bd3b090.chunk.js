(this.webpackJsonpthesis_charts=this.webpackJsonpthesis_charts||[]).push([[0],{153:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(47),r=a.n(c),s=(a(55),a(6)),i=a.n(s),o=a(20),u=a(18),m=a(1),p=a(19),d=(a(152),a(7)),b=(a(153),[{val:"rws",label:"Roulette"},{val:"tournament_2",label:"Tournament 2"},{val:"tournament_4",label:"TOurnament 4"}]),h=[{user:"postgres",password:"123123Aa",table:"task_2_variant_2",tableInfo:"task_2_variant_2"},{user:"misha",password:"thesis_misha",table:"task2_full_gcloud_v1",tableInfo:"task2_v2_tmp"}],_=[{value:"type_1",label:"Type 1 (first 10 steps **2)"},{value:"type_2",label:"Type 2 (first 80 steps *1.1)"},{value:"type_3",label:"Type 3 (*1.005)"},{value:"type_4",label:"Type 4 (+1 by 2000)"},{value:"type_3_init_200",label:"Type 3 (*1.005), init size 200"},{value:"type_3_i_200_px10",label:"Type 3 (*1.005), init size 200 px*10"},{value:"type_3_i_200_px0_1",label:"Type 3 (*1.005), init size 200 px/10"},{value:"type_3_i_200_if_500",label:"Type 3 (*1.005), init size 200, static size first 500 iter"}],v=[{value:1,label:"static population size"},{value:2,label:"dynamic population size"}],E="https://thesis-charts-server.herokuapp.com/charts",f={1:h[1],2:h[0]},y=function(e){return(e||"").toString().replace(/\s/g,"")};var g=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(m.a)(r,2),h=s[0],g=s[1],j=Object(n.useState)(null),O=Object(m.a)(j,2),w=O[0],S=O[1],N=Object(n.useState)(10),k=Object(m.a)(N,2),x=k[0],z=k[1],C=Object(n.useState)(b[0].val),T=Object(m.a)(C,2),F=T[0],I=T[1],A=Object(n.useState)(0),L=Object(m.a)(A,2),W=L[0],V=L[1],B=Object(n.useState)(0),D=Object(m.a)(B,2),H=D[0],J=D[1],R=Object(n.useState)("all_0"),U=Object(m.a)(R,2),M=U[0],P=U[1],Y=Object(n.useState)(100),$=Object(m.a)(Y,2),q=$[0],G=$[1],K=Object(n.useState)(null),Q=Object(m.a)(K,2),X=Q[0],Z=Q[1],ee=Object(n.useState)(null),te=Object(m.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)(2),ce=Object(m.a)(le,2),re=ce[0],se=ce[1],ie=Object(n.useState)([]),oe=Object(m.a)(ie,2),ue=oe[0],me=oe[1],pe=Object(n.useState)(null),de=Object(m.a)(pe,2),be=de[0],he=de[1],_e=Object(n.useState)(null),ve=Object(m.a)(_e,2),Ee=(ve[0],ve[1]),fe=Object(n.useState)(10),ye=Object(m.a)(fe,2),ge=ye[0],je=ye[1],Oe=Object(n.useState)(null),we=Object(m.a)(Oe,2),Se=we[0],Ne=we[1];function ke(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(u.a)(i.a.mark((function e(t){var a,n,l,r,s,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(a=f[re]).user,l=a.password,r=a.table,g(!0),e.next=5,fetch("".concat(E,"?").concat(1==re?"n=".concat(w):"type=".concat(X),"&l=").concat(x,"&user=").concat(n,"&init=").concat(M,"&password=").concat(l,"&table=").concat(r,"&run_id=").concat(W,"&sel_type=").concat(F,"&offset=").concat(void 0===t?H:t,"&limit=").concat(q,"\n          "));case 5:return s=e.sent,e.next=8,s.json();case 8:o=e.sent,u=o.length&&o.reduce((function(e,t){for(var a,n=t.ideal_hamming_distribution_p.length-1;n>=0;n--){0!==t.ideal_hamming_distribution_p[n]&&(a=n+3)}return a>e?a:e}),0),je(Math.max(u,10)),c(o),g(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),g(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function ze(){return(ze=Object(u.a)(i.a.mark((function e(){var t,a,n,l,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(t=f[re]).user,n=t.password,l=t.table,g(!0),e.next=5,fetch("".concat(E,"/run_details?").concat(1==re?"n=".concat(w):"type=".concat(X),"&l=").concat(x,"&user=").concat(a,"&init=").concat(M,"&password=").concat(n,"&table=").concat(l,"&run_id=").concat(W,"&sel_type=").concat(F,"&estim=").concat(ae));case 5:return c=e.sent,e.next=8,c.json();case 8:r=e.sent,console.log(r),Ne(r[0].data),g(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),g(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function Ce(){return(Ce=Object(u.a)(i.a.mark((function e(){var t,a,n,l,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(t=f[re]).user,n=t.password,l=t.tableInfo,e.next=3,fetch("".concat(E,"/available?user=").concat(a,"&password=").concat(n,"&table=").concat(l,"&variant=").concat(re));case 3:return c=e.sent,e.next=6,c.json();case 6:r=e.sent,me(r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){Ce.apply(this,arguments)}()}),[re]);var Te=function(e){return function(t){return t.persist()||e(t.target.value)}};return console.log(Se),l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"Tool to explore generated by genetic algorithm population models"),l.a.createElement("div",{className:"header_select form-group"},l.a.createElement("label",{htmlFor:"variant"},"Variant"),l.a.createElement("select",{name:"variant",id:"variant_select",defaultValue:"",value:re,onChange:function(e){Te(se)(e),c([]),me([])}},l.a.createElement("option",{value:"",disabled:!0},"Variant (static\\dynamic L)"),v.map((function(e){return l.a.createElement("option",{value:e.value,key:e.value},e.label)})))),l.a.createElement("div",{className:"container_form"},l.a.createElement("div",{className:"table"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:7},"Available data (Click on any row, type offset and size and press Show to see this model)")),l.a.createElement("tr",null,l.a.createElement("th",null,"L"),l.a.createElement("th",null,"N|Type"),l.a.createElement("th",null,"RUN ID"),l.a.createElement("th",null,"SEL TYPE"),l.a.createElement("th",null,"INIT"),l.a.createElement("th",null,"HEALTH FUNC"),l.a.createElement("th",null,"IS NEW"))),l.a.createElement("tbody",null,ue.map((function(e,t){return l.a.createElement("tr",{onClick:function(){z(y(e.l)),S(y(e.n)),Z(y(e.size_pop_type)),I(y(e.sel_type)),V(e.run_id),P(y(e.init)),ne(y(e.estim)),he(t),Ee(e.is_new)},"data-selected":t===be},l.a.createElement("td",null,e.l),l.a.createElement("td",null,e.n||(_.find((function(t){return t.value===y(e.size_pop_type)}))||{}).label),l.a.createElement("td",null,e.run_id),l.a.createElement("td",null,e.sel_type),l.a.createElement("td",null,e.init),l.a.createElement("td",null,e.estim),l.a.createElement("td",null,e.is_new))})),!ue.length&&l.a.createElement("tr",null,l.a.createElement("td",{colSpan:5,style:{textAlign:"center"}},"Loading..."))))),l.a.createElement("div",{className:"form"},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"offset"},"Offset"),l.a.createElement("input",{type:"text",name:"offset",placeholder:"offset",value:H,onChange:Te(J)})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"size"},"Size"),l.a.createElement("input",{type:"text",name:"size",placeholder:"size",value:q,onChange:Te(G)})),l.a.createElement(d.a,{type:"button",className:"process",onClick:function(){return ke()},disabled:null===be},"Show")),l.a.createElement(d.a,{type:"button",className:"process",onClick:function(){return ze.apply(this,arguments)},disabled:null===be},"Show Details")),Se&&l.a.createElement("div",null,l.a.createElement("img",{src:"data:image/png;base64,"+Se,alt:""})),a&&a.length?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"arrows"},l.a.createElement(d.a,{onClick:function(){var e=+H-+q;J(e<0?0:e),ke(e)}},"<<<"),l.a.createElement(d.a,{onClick:function(){var e=+H+ +q;J(e),ke(e)}},">>> ")),l.a.createElement("div",{className:"datatypes"},l.a.createElement("div",{className:"datatype"},l.a.createElement("span",{className:"green"}),l.a.createElement("span",null,"-----wild_type_hamming_distribution")),l.a.createElement("div",{className:"datatype"},l.a.createElement("span",{className:"blue"}),l.a.createElement("span",null,"-----pairwise_hamming_distribution")),l.a.createElement("div",{className:"datatype"},l.a.createElement("span",{className:"red"}),l.a.createElement("span",null,"-----ideal_hamming_distribution")))):null,l.a.createElement("div",{className:"container"},h&&l.a.createElement("p",{style:{textAlign:"center"}},"Loading..."),!h&&a.map((function(e){var t={labels:Array(ge).fill(1).map((function(e,t){return t})),datasets:[{label:"pairwise_hamming_distribution_p",borderColor:"#00F",borderWidth:1,data:e.pairwise_hamming_distribution_p},{label:"ideal_hamming_distribution_p",borderColor:"#F00",borderWidth:1,data:e.ideal_hamming_distribution_p},{label:"wild_type_hamming_distribution_p",borderColor:"#0F0",borderWidth:1,data:e.wild_type_hamming_distribution_p}]};return l.a.createElement("div",{key:e.id,className:"chart"},l.a.createElement("span",{className:"iteration"},e.iteration),"2"==re&&l.a.createElement("span",{className:"pop_size"},e.n),l.a.createElement(p.a,{data:Object(o.a)({},t,{datasets:[t.datasets[0]]}),legend:{display:!1},width:100,height:45}),l.a.createElement(p.a,{data:Object(o.a)({},t,{datasets:[t.datasets[1]]}),legend:{display:!1},width:100,height:45}),l.a.createElement(p.a,{data:Object(o.a)({},t,{datasets:[t.datasets[2]]}),legend:{display:!1},width:100,height:45}))}))),a&&a.length?l.a.createElement("div",{className:"arrows"},l.a.createElement(d.a,{onClick:function(){var e=+H-+q;J(e<0?0:e),ke(e)}},"<<<"),l.a.createElement(d.a,{onClick:function(){var e=+H+ +q;J(e),ke(e)}},">>> ")):null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){e.exports=a(154)},55:function(e,t,a){}},[[50,1,2]]]);
//# sourceMappingURL=main.0bd3b090.chunk.js.map